{"version":3,"file":"index.umd.js","sources":["../src/array.js","../src/defined.js","../src/interval.js","../src/betweener.js","../src/bit.js","../src/buildEnum.js","../src/capitalize.js","../src/mapo.js","../src/charkeys.js","../src/clipper.js","../src/flattener.js","../src/hasAllKeys.js","../src/hasAllCharkeys.js","../src/hasExactKeys.js","../src/indexer.js","../src/indexById.js","../src/isFunction.js","../src/mapp.js","../src/nonempty.js","../src/now.js","../src/omitter.js","../src/randomInt.js","../src/rounder.js","../src/singleton.js","../src/sleep.js","../src/upto.js"],"sourcesContent":["export default function makeArray (...args) {\n  let a;\n  if (args.length > 1) {\n    a = args;\n  } else {\n    const value = args[0];\n    if (value && value.unwrap) {\n      a = value;\n    } else if (Array.isArray(value)) {\n      a = [...value];\n    } else if ([null, undefined].includes(value)) {\n      a = [];\n    } else {\n      a = [value];\n    }\n  }\n\n  function _compare (x, y) {\n    if (a.compare) {\n      return a.compare(x, y);\n    } else {\n      return (x === y);\n    }\n  }\n\n  function array (args) {\n    const result = makeArray(args);\n    if (a.compare) {\n      result.compare = a.compare;\n    }\n    return result;\n  }\n\n  function _getIndex (args) {\n    if (Number.isInteger(args)) {\n      return args;\n    } else {\n      const has_index = 'index' in args;\n      const has_element = 'element' in args;\n      const has_one_key = Object.keys(args).length === 1;\n      if ((has_index || has_element) && has_one_key) {\n        const {index: i, element} = args;\n        return has_index ? i : index(element);\n      } else {\n        return index(args);\n      }\n    }\n  }\n\n  function _diff ({dir, other}) {\n    function notIn (arr) {\n      return (el)=> (\n        a.compare ? !arr.some((e)=> a.compare(el, e)) : !arr.includes(el)\n      );\n    }\n    const [from, to] = (dir === 'from') ? [a, other] : [other, a];\n    const add = array(from.filter(notIn(to)));\n    const remove = array(to.filter(notIn(from)));\n    return {add, remove};\n  }\n\n  function add (element) {\n    return array([...a, element]);\n  }\n\n  function contains (el) {\n    if (a.compare) {\n      return a.some((e)=> a.compare(e, el));\n    } else {\n      return a.includes(el);\n    }\n  }\n\n  function diffFrom (other) {\n    return _diff({dir: 'from', other});\n  }\n\n  function diffTo (other) {\n    return _diff({dir: 'to', other});\n  }\n\n  function empty () {\n    return (a.length === 0);\n  }\n\n  function equals (b) {\n    return a.every((ae, index)=> {\n      const be = b[index];\n      return _compare(ae, be);\n    });\n  }\n\n  function sameSet (b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    function hasAll (x, y) {\n      return x.every((xe)=> {\n        return y.some((ye)=> _compare(xe, ye));\n      });\n    }\n\n    return hasAll(a, b) && hasAll(b, a);\n  }\n\n  function first () {\n    return a[0];\n  }\n\n  function index (element) {\n    if (a.compare) {\n      return a.findIndex((e)=> a.compare(e, element));\n    } else {\n      return a.indexOf(element);\n    }\n  }\n\n  function insert (args) {\n    const has_left = 'left' in args;\n    const has_right = 'right' in args;\n    const has_replace = 'replace' in args;\n\n    const {left, right, replace, ...split_args} = args;\n    const [before, element, after] = splitCenter(split_args);\n\n    let center;\n    if (has_left && has_right) {\n      center = [left, element, right];\n    } else if (has_left) {\n      center = [left, element];\n    } else if (has_right) {\n      center = [element, right];\n    } else if (has_replace) {\n      center = [replace];\n    }\n\n    return array([...before, ...center, ...after]);\n  }\n\n  function last () {\n    return a[a.length - 1];\n  }\n\n  function remove (args) {\n    const [before, after] = split(args);\n    return array([...before, ...after]);\n  }\n\n  function replace ({by: replace, ...args}) {\n    return insert({replace, ...args});\n  }\n\n  function rest () {\n    return array(a.slice(1));\n  }\n\n  function split (args) {\n    const parts = splitCenter(args);\n    const before = parts.shift();\n    const after = parts.pop();\n    return [before, after];\n  }\n\n  function splitCenter (args) {\n    const i = _getIndex(args);\n    const element = a[i];\n    const before = a.slice(0, i);\n    const after = a.slice(i + 1);\n    return [\n      array(before),\n      element,\n      array(after)\n    ];\n  }\n\n  function splitLeft (args) {\n    const [before, element, after] = splitCenter(args);\n    before.push(element);\n    return [before, after];\n  }\n\n  function splitRight (args) {\n    const [before, element, after] = splitCenter(args);\n    after.unshift(element);\n    return [before, after];\n  }\n\n  function toggle (element) {\n    return contains(element) ? remove({element}) : add(element);\n  }\n\n  function unwrap () {\n    return [...a];\n  }\n\n  if (!a.unwrap) {\n    Object.defineProperties(a, {\n      add: {\n        value: add\n      },\n      contains: {\n        value: contains\n      },\n      diffFrom: {\n        value: diffFrom\n      },\n      diffTo: {\n        value: diffTo\n      },\n      empty: {\n        get: empty\n      },\n      equals: {\n        value: equals\n      },\n      sameSet: {\n        value: sameSet\n      },\n      first: {\n        get: first\n      },\n      index: {\n        value: index\n      },\n      insert: {\n        value: insert\n      },\n      last: {\n        get: last\n      },\n      remove: {\n        value: remove\n      },\n      replace: {\n        value: replace\n      },\n      rest: {\n        get: rest\n      },\n      split: {\n        value: split\n      },\n      splitCenter: {\n        value: splitCenter\n      },\n      splitLeft: {\n        value: splitLeft\n      },\n      splitRight: {\n        value: splitRight\n      },\n      toggle: {\n        value: toggle\n      },\n      unwrap: {\n        value: unwrap\n      }\n    });\n  }\n\n  return a;\n}\n","export default function defined (val) {\n  return (typeof val !== 'undefined');\n}\n","import defined from './defined';\n\nconst interval_regex = /(?<left>[[(])\\s*(?<left_num>[+-]?([0-9]+([.][0-9]*)?|([.][0-9]+)|∞))\\s*,\\s*(?<right_num>[+-]?([0-9]+([.][0-9]*)?|([.][0-9]+)|∞))\\s*(?<right>[)\\]])/;\n\nexport default function interval (arg) {\n  if (arg.constructor === String) {\n    const match = arg.match(interval_regex);\n    if (!match) {\n      throw new Error('Invalid interval string');\n    }\n\n    const {left, left_num, right_num, right} = match.groups;\n    const map = {\n      '[': 'gte',\n      '(': 'gt',\n      ')': 'lt',\n      ']': 'lte'\n    };\n\n    const bounds = [left_num, right_num].map((num)=> {\n      if (num === '-∞') {\n        return -Infinity;\n      } else if (num === '∞') {\n        return Infinity;\n      } else {\n        return parseFloat(num);\n      }\n    });\n\n    arg = {\n      [map[left]]: bounds[0],\n      [map[right]]: bounds[1]\n    };\n  }\n\n  if (Array.isArray(arg)) {\n    const [min, max] = arg;\n    arg = {\n      gte: min,\n      lte: max\n    };\n  }\n\n  const has_gt = defined(arg.gt);\n  const has_gte = defined(arg.gte);\n  const has_lt = defined(arg.lt);\n  const has_lte = defined(arg.lte);\n\n  const has_both_g = (has_gt && has_gte);\n  const has_both_l = (has_lt && has_lte);\n  const has_one = (has_gt || has_gte || has_lt || has_lte);\n\n  if (has_both_g || has_both_l || !has_one) {\n    throw new Error('Invalid interval');\n  }\n\n  return arg;\n}\n","import interval from './interval';\nimport defined from './defined';\n\nexport default function betweener (arg) {\n  const {lt, lte, gt, gte} = interval(arg);\n\n  return function between (value) {\n    if (defined(gt) && (value <= gt)) {\n      return false;\n    }\n    if (defined(gte) && (value < gte)) {\n      return false;\n    }\n    if (defined(lt) && (value >= lt)) {\n      return false;\n    }\n    if (defined(lte) && (value > lte)) {\n      return false;\n    }\n    return true;\n  };\n}\n","export default function bit (value) {\n  return value ? 1 : 0;\n}\n","export default function buildEnum (types) {\n  return types.reduce((Types, type)=> {\n    Types[type] = type;\n    return Types;\n  }, {});\n}\n","export default function capitalize (string) {\n  const first = string.charAt(0).toUpperCase();\n  const rest = string.slice(1);\n  return `${first}${rest}`;\n}\n","export default function mapo ({\n  key: mapkey,\n  value: mapval\n}) {\n  return function map (obj) {\n    const entries = Object.entries(obj);\n    const mapped = entries.map(([key, value])=> {\n      if (mapkey) {\n        key = mapkey({key, value});\n      }\n      if (mapval) {\n        value = mapval({key, value});\n      }\n      return [key, value];\n    });\n    return Object.fromEntries(mapped);\n  };\n}\n","import mapo from './mapo';\n\nconst charkeys = mapo({\n  key: ({key})=> key[0]\n});\n\nexport default charkeys;\n","import interval from './interval';\nimport defined from './defined';\n\nconst {MIN_VALUE} = Number;\n\nexport default function clipper (arg) {\n  const {lt, lte, gt, gte} = interval(arg);\n\n  return function constrain (value) {\n    if (defined(gt) && (value <= gt)) {\n      return gt + MIN_VALUE;\n    }\n    if (defined(gte) && (value < gte)) {\n      return gte;\n    }\n    if (defined(lt) && (value >= lt)) {\n      return lt - MIN_VALUE;\n    }\n    if (defined(lte) && (value > lte)) {\n      return lte;\n    }\n    return value;\n  };\n}\n","export default function flattener ({join = '.', into: into_base} = {}) {\n  return function flatten (obj, key = null, into = into_base || {}) {\n    if (obj && (obj.constructor === Object)) {\n      const entries = Object.entries(obj);\n      if (entries.length) {\n        for (const [k, v] of entries) {\n          const parts = key ? [key, k] : [k];\n          const new_key = parts.join(join);\n          flatten(v, new_key, into);\n        }\n      } else {\n        into[key] = {};\n      }\n    } else {\n      into[key] = obj;\n    }\n    return into;\n  };\n}\n","export default function hasAllKeys (keys) {\n  return function hasAll (obj) {\n    return keys.every((key)=> {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    });\n  };\n}\n","import charkeys from './charkeys';\nimport hasAllKeys from './hasAllKeys';\n\nexport default function hasAllCharkeys (keys) {\n  return function has (obj) {\n    obj = charkeys(obj);\n    return hasAllKeys(keys)(obj);\n  };\n}\n","import hasAllKeys from './hasAllKeys';\n\nexport default function hasExactKeys (keys) {\n  const hasAll = hasAllKeys(keys);\n  return function hasExact (obj) {\n    const num_keys = Object.keys(obj).length;\n    return (num_keys === keys.length) && hasAll(obj);\n  };\n}\n","import buildEnum from './buildEnum';\n\nconst types = buildEnum(['array', 'first', 'last']);\n\nexport default function indexer (arg) {\n  if (!arg) {\n    arg = {\n      attr: 'id',\n      type: types.first\n    };\n  }\n\n  if (arg.constructor === String) {\n    arg = {\n      attr: arg\n    };\n  }\n\n  const {\n    attr,\n    type = types.array\n  } = arg;\n\n  if (!(type in types)) {\n    throw new Error('Invalid index type');\n  }\n\n  return function index (items) {\n    const index = {};\n    for (const item of items) {\n      const value = item[attr];\n      const has_value = (value in index);\n      if (type === types.array) {\n        if (!has_value) {\n          index[value] = [];\n        }\n        index[value].push(item);\n      } else if (type === types.first) {\n        if (!has_value) {\n          index[value] = item;\n        }\n      } else {\n        index[value] = item;\n      }\n    }\n    return index;\n  };\n}\n\nfor (const [k, v] of Object.entries(types)) {\n  indexer[k] = v;\n}\n","import indexer from './indexer';\n\nconst indexById = indexer();\nexport default indexById;\n","export default function isFunction (fn) {\n  if (!fn) {\n    return false;\n  }\n  return ['Function', 'AsyncFunction'].includes(fn.constructor.name);\n  // TODO: https://github.com/developit/microbundle/issues/721\n  // const AsyncFunction = (async ()=> { return null; }).constructor;\n  // return [Function, AsyncFunction].includes(fn.constructor);\n}\n","export default async function mapp (iterable, map, options = {}) {\n  let concurrency = options.concurrency || Infinity;\n  let index = 0;\n  const results = [];\n  const runs = [];\n  const iterator = iterable[Symbol.iterator]();\n  const sentinel = Symbol('sentinel');\n\n  while (concurrency-- > 0) {\n    const r = run();\n    if (r === sentinel) {\n      break;\n    } else {\n      runs.push(r);\n    }\n  }\n\n  function run () {\n    const {done, value} = iterator.next();\n    if (done) {\n      return sentinel;\n    } else {\n      const i = index++;\n      const p = map(value, i);\n      return Promise.resolve(p)\n        .then((result)=> {\n          results[i] = result;\n          return run();\n        });\n    }\n  }\n\n  return Promise.all(runs).then(()=> results);\n}\n","export default function nonempty (value) {\n  if ((value === null) || (value === undefined)) {\n    return false;\n  }\n  if (value.length !== undefined) {\n    return (value.length > 0);\n  }\n  if (value.constructor === Object) {\n    const keys = Object.keys(value);\n    return (keys.length > 0);\n  }\n  return true;\n}\n","export default function now () {\n  return new Date();\n}\n","export default function omitter (keys) {\n  let test;\n  if (Array.isArray(keys)) {\n    test = (key)=> keys.includes(key);\n  } else {\n    test = keys;\n  }\n  return function omit (obj) {\n    return Object.entries(obj).reduce((result, [key, value])=> {\n      if (!test(key, value)) {\n        result[key] = obj[key];\n      }\n      return result;\n    }, {});\n  };\n}\n","const {isInteger} = Number;\n\nexport default function randomInt (arg = {}) {\n  if (Array.isArray(arg)) {\n    const [min, max] = arg;\n    arg = {min, max};\n  } else if (isInteger(arg)) {\n    arg = {\n      max: arg\n    };\n  }\n  const {min = 0, max = 1} = arg;\n\n  if (!isInteger(min) || !isInteger(max)) {\n    throw new Error('min and max must be integers');\n  }\n  if (max < min) {\n    throw new Error('min must be less than or equal to max');\n  }\n\n  const delta = max - min;\n  const offset = Math.floor(Math.random() * (delta + 1));\n  return min + offset;\n}\n","export default function rounder ({decimals = 0, op = Math.round} = {}) {\n  if (!(Number.isInteger(decimals) && (decimals >= 0))) {\n    throw new Error('Argument decimals must be non-negative integer');\n  }\n\n  if (!(op && (op.constructor === Function))) {\n    throw new Error('Argument op must be a function');\n  }\n\n  const multiplier = 10 ** decimals;\n  return function round (num) {\n    return op(num * multiplier) / multiplier;\n  };\n}\n","export default function singleton (args) {\n  if (args && (args.constructor === Function)) {\n    args = {\n      Class: args\n    };\n  }\n\n  if (!args || !args.Class) {\n    throw new Error('Must pass constructor or object with \"Class\" prop');\n  }\n\n  const {\n    Class,\n    instance = 'instance',\n    key = '_instance'\n  } = args;\n\n  Class[instance] = function instance (...args) {\n    if (!this[key]) {\n      this[key] = new this(...args);\n    }\n    return this[key];\n  };\n}\n","export default function sleep (time_ms) {\n  return new Promise((resolve)=> {\n    setTimeout(resolve, time_ms);\n  });\n}\n","/// iterable that returns array or function\n\nexport default function upto (n) {\n  let i = 0;\n  const results = [];\n  return function f (fn) {\n    while (i <= n) {\n      results.push(fn(i));\n      i++;\n    }\n    return results;\n  };\n}\n"],"names":["makeArray","args","a","length","value","unwrap","Array","isArray","undefined","includes","_compare","x","y","compare","array","result","_getIndex","Number","isInteger","has_index","has_element","has_one_key","Object","keys","index","i","element","_diff","dir","other","notIn","arr","el","some","e","from","to","add","filter","remove","contains","diffFrom","diffTo","empty","equals","b","every","ae","be","sameSet","hasAll","xe","ye","first","findIndex","indexOf","insert","has_left","has_right","has_replace","left","right","replace","split_args","before","after","splitCenter","center","last","split","by","rest","slice","parts","shift","pop","splitLeft","push","splitRight","unshift","toggle","defineProperties","get","defined","val","interval_regex","interval","arg","constructor","String","match","Error","left_num","right_num","groups","map","bounds","num","Infinity","parseFloat","min","max","gte","lte","has_gt","gt","has_gte","has_lt","lt","has_lte","has_both_g","has_both_l","has_one","betweener","between","bit","buildEnum","types","reduce","Types","type","capitalize","string","charAt","toUpperCase","mapo","key","mapkey","mapval","obj","entries","mapped","fromEntries","charkeys","MIN_VALUE","clipper","constrain","flattener","join","into","into_base","flatten","k","v","new_key","hasAllKeys","prototype","hasOwnProperty","call","hasAllCharkeys","has","hasExactKeys","hasExact","num_keys","indexer","attr","items","item","has_value","indexById","isFunction","fn","name","mapp","iterable","options","concurrency","results","runs","iterator","Symbol","sentinel","r","run","done","next","p","Promise","resolve","then","all","nonempty","now","Date","omitter","test","omit","randomInt","delta","offset","Math","floor","random","rounder","decimals","op","round","Function","multiplier","singleton","Class","instance","sleep","time_ms","setTimeout","upto","n","f"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAe,SAASA,SAAT,CAAoB,GAAGC,IAAvB,EAA6B;EAC1C,MAAIC,CAAJ;;EACA,MAAID,IAAI,CAACE,MAAL,GAAc,CAAlB,EAAqB;EACnBD,IAAAA,CAAC,GAAGD,IAAJ;EACD,GAFD,MAEO;EACL,UAAMG,KAAK,GAAGH,IAAI,CAAC,CAAD,CAAlB;;EACA,QAAIG,KAAK,IAAIA,KAAK,CAACC,MAAnB,EAA2B;EACzBH,MAAAA,CAAC,GAAGE,KAAJ;EACD,KAFD,MAEO,IAAIE,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAJ,EAA0B;EAC/BF,MAAAA,CAAC,GAAG,CAAC,GAAGE,KAAJ,CAAJ;EACD,KAFM,MAEA,IAAI,CAAC,IAAD,EAAOI,SAAP,EAAkBC,QAAlB,CAA2BL,KAA3B,CAAJ,EAAuC;EAC5CF,MAAAA,CAAC,GAAG,EAAJ;EACD,KAFM,MAEA;EACLA,MAAAA,CAAC,GAAG,CAACE,KAAD,CAAJ;EACD;EACF;;EAED,WAASM,QAAT,CAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;EACvB,QAAIV,CAAC,CAACW,OAAN,EAAe;EACb,aAAOX,CAAC,CAACW,OAAF,CAAUF,CAAV,EAAaC,CAAb,CAAP;EACD,KAFD,MAEO;EACL,aAAQD,CAAC,KAAKC,CAAd;EACD;EACF;;EAED,WAASE,KAAT,CAAgBb,IAAhB,EAAsB;EACpB,UAAMc,MAAM,GAAGf,SAAS,CAACC,IAAD,CAAxB;;EACA,QAAIC,CAAC,CAACW,OAAN,EAAe;EACbE,MAAAA,MAAM,CAACF,OAAP,GAAiBX,CAAC,CAACW,OAAnB;EACD;;EACD,WAAOE,MAAP;EACD;;EAED,WAASC,SAAT,CAAoBf,IAApB,EAA0B;EACxB,QAAIgB,MAAM,CAACC,SAAP,CAAiBjB,IAAjB,CAAJ,EAA4B;EAC1B,aAAOA,IAAP;EACD,KAFD,MAEO;EACL,YAAMkB,SAAS,IAAG,WAAWlB,IAAd,CAAf;EACA,YAAMmB,WAAW,IAAG,aAAanB,IAAhB,CAAjB;EACA,YAAMoB,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYtB,IAAZ,EAAkBE,MAAlB,KAA6B,CAAjD;;EACA,UAAI,CAACgB,SAAS,IAAIC,WAAd,KAA8BC,WAAlC,EAA+C;EAC7C,cAAM;EAACG,UAAAA,KAAK,EAAEC,CAAR;EAAWC,UAAAA;EAAX,YAAsBzB,IAA5B;EACA,eAAOkB,SAAS,GAAGM,CAAH,GAAOD,KAAK,CAACE,OAAD,CAA5B;EACD,OAHD,MAGO;EACL,eAAOF,KAAK,CAACvB,IAAD,CAAZ;EACD;EACF;EACF;;EAED,WAAS0B,KAAT,CAAgB;EAACC,IAAAA,GAAD;EAAMC,IAAAA;EAAN,GAAhB,EAA8B;EAC5B,aAASC,KAAT,CAAgBC,GAAhB,EAAqB;EACnB,aAAQC,EAAD,IACL9B,CAAC,CAACW,OAAF,GAAY,CAACkB,GAAG,CAACE,IAAJ,CAAUC,CAAD,IAAMhC,CAAC,CAACW,OAAF,CAAUmB,EAAV,EAAcE,CAAd,CAAf,CAAb,GAAgD,CAACH,GAAG,CAACtB,QAAJ,CAAauB,EAAb,CADnD;EAGD;;EACD,UAAM,CAACG,IAAD,EAAOC,EAAP,IAAcR,GAAG,KAAK,MAAT,GAAmB,CAAC1B,CAAD,EAAI2B,KAAJ,CAAnB,GAAgC,CAACA,KAAD,EAAQ3B,CAAR,CAAnD;EACA,UAAMmC,GAAG,GAAGvB,KAAK,CAACqB,IAAI,CAACG,MAAL,CAAYR,KAAK,CAACM,EAAD,CAAjB,CAAD,CAAjB;EACA,UAAMG,MAAM,GAAGzB,KAAK,CAACsB,EAAE,CAACE,MAAH,CAAUR,KAAK,CAACK,IAAD,CAAf,CAAD,CAApB;EACA,WAAO;EAACE,MAAAA,GAAD;EAAME,MAAAA;EAAN,KAAP;EACD;;EAED,WAASF,GAAT,CAAcX,OAAd,EAAuB;EACrB,WAAOZ,KAAK,CAAC,CAAC,GAAGZ,CAAJ,EAAOwB,OAAP,CAAD,CAAZ;EACD;;EAED,WAASc,QAAT,CAAmBR,EAAnB,EAAuB;EACrB,QAAI9B,CAAC,CAACW,OAAN,EAAe;EACb,aAAOX,CAAC,CAAC+B,IAAF,CAAQC,CAAD,IAAMhC,CAAC,CAACW,OAAF,CAAUqB,CAAV,EAAaF,EAAb,CAAb,CAAP;EACD,KAFD,MAEO;EACL,aAAO9B,CAAC,CAACO,QAAF,CAAWuB,EAAX,CAAP;EACD;EACF;;EAED,WAASS,QAAT,CAAmBZ,KAAnB,EAA0B;EACxB,WAAOF,KAAK,CAAC;EAACC,MAAAA,GAAG,EAAE,MAAN;EAAcC,MAAAA;EAAd,KAAD,CAAZ;EACD;;EAED,WAASa,MAAT,CAAiBb,KAAjB,EAAwB;EACtB,WAAOF,KAAK,CAAC;EAACC,MAAAA,GAAG,EAAE,IAAN;EAAYC,MAAAA;EAAZ,KAAD,CAAZ;EACD;;EAED,WAASc,KAAT,GAAkB;EAChB,WAAQzC,CAAC,CAACC,MAAF,KAAa,CAArB;EACD;;EAED,WAASyC,MAAT,CAAiBC,CAAjB,EAAoB;EAClB,WAAO3C,CAAC,CAAC4C,KAAF,CAAQ,CAACC,EAAD,EAAKvB,KAAL,KAAc;EAC3B,YAAMwB,EAAE,GAAGH,CAAC,CAACrB,KAAD,CAAZ;EACA,aAAOd,QAAQ,CAACqC,EAAD,EAAKC,EAAL,CAAf;EACD,KAHM,CAAP;EAID;;EAED,WAASC,OAAT,CAAkBJ,CAAlB,EAAqB;EACnB,QAAI3C,CAAC,KAAK2C,CAAV,EAAa;EACX,aAAO,IAAP;EACD;;EAED,QAAI3C,CAAC,CAACC,MAAF,KAAa0C,CAAC,CAAC1C,MAAnB,EAA2B;EACzB,aAAO,KAAP;EACD;;EAED,aAAS+C,MAAT,CAAiBvC,CAAjB,EAAoBC,CAApB,EAAuB;EACrB,aAAOD,CAAC,CAACmC,KAAF,CAASK,EAAD,IAAO;EACpB,eAAOvC,CAAC,CAACqB,IAAF,CAAQmB,EAAD,IAAO1C,QAAQ,CAACyC,EAAD,EAAKC,EAAL,CAAtB,CAAP;EACD,OAFM,CAAP;EAGD;;EAED,WAAOF,MAAM,CAAChD,CAAD,EAAI2C,CAAJ,CAAN,IAAgBK,MAAM,CAACL,CAAD,EAAI3C,CAAJ,CAA7B;EACD;;EAED,WAASmD,KAAT,GAAkB;EAChB,WAAOnD,CAAC,CAAC,CAAD,CAAR;EACD;;EAED,WAASsB,KAAT,CAAgBE,OAAhB,EAAyB;EACvB,QAAIxB,CAAC,CAACW,OAAN,EAAe;EACb,aAAOX,CAAC,CAACoD,SAAF,CAAapB,CAAD,IAAMhC,CAAC,CAACW,OAAF,CAAUqB,CAAV,EAAaR,OAAb,CAAlB,CAAP;EACD,KAFD,MAEO;EACL,aAAOxB,CAAC,CAACqD,OAAF,CAAU7B,OAAV,CAAP;EACD;EACF;;EAED,WAAS8B,MAAT,CAAiBvD,IAAjB,EAAuB;EACrB,UAAMwD,QAAQ,IAAG,UAAUxD,IAAb,CAAd;EACA,UAAMyD,SAAS,IAAG,WAAWzD,IAAd,CAAf;EACA,UAAM0D,WAAW,IAAG,aAAa1D,IAAhB,CAAjB;;EAEA,UAAM;EAAC2D,MAAAA,IAAD;EAAOC,MAAAA,KAAP;EAAcC,MAAAA;EAAd,QAAwC7D,IAA9C;EAAA,UAAgC8D,UAAhC,iCAA8C9D,IAA9C;;EACA,UAAM,CAAC+D,MAAD,EAAStC,OAAT,EAAkBuC,KAAlB,IAA2BC,WAAW,CAACH,UAAD,CAA5C;EAEA,QAAII,MAAJ;;EACA,QAAIV,QAAQ,IAAIC,SAAhB,EAA2B;EACzBS,MAAAA,MAAM,GAAG,CAACP,IAAD,EAAOlC,OAAP,EAAgBmC,KAAhB,CAAT;EACD,KAFD,MAEO,IAAIJ,QAAJ,EAAc;EACnBU,MAAAA,MAAM,GAAG,CAACP,IAAD,EAAOlC,OAAP,CAAT;EACD,KAFM,MAEA,IAAIgC,SAAJ,EAAe;EACpBS,MAAAA,MAAM,GAAG,CAACzC,OAAD,EAAUmC,KAAV,CAAT;EACD,KAFM,MAEA,IAAIF,WAAJ,EAAiB;EACtBQ,MAAAA,MAAM,GAAG,CAACL,OAAD,CAAT;EACD;;EAED,WAAOhD,KAAK,CAAC,CAAC,GAAGkD,MAAJ,EAAY,GAAGG,MAAf,EAAuB,GAAGF,KAA1B,CAAD,CAAZ;EACD;;EAED,WAASG,IAAT,GAAiB;EACf,WAAOlE,CAAC,CAACA,CAAC,CAACC,MAAF,GAAW,CAAZ,CAAR;EACD;;EAED,WAASoC,MAAT,CAAiBtC,IAAjB,EAAuB;EACrB,UAAM,CAAC+D,MAAD,EAASC,KAAT,IAAkBI,KAAK,CAACpE,IAAD,CAA7B;EACA,WAAOa,KAAK,CAAC,CAAC,GAAGkD,MAAJ,EAAY,GAAGC,KAAf,CAAD,CAAZ;EACD;;EAED,WAASH,OAAT,OAA0C;EAAA,QAAxB;EAACQ,MAAAA,EAAE,EAAER;EAAL,KAAwB;EAAA,QAAP7D,IAAO;;EACxC,WAAOuD,MAAM;EAAEM,MAAAA;EAAF,OAAc7D,IAAd,EAAb;EACD;;EAED,WAASsE,IAAT,GAAiB;EACf,WAAOzD,KAAK,CAACZ,CAAC,CAACsE,KAAF,CAAQ,CAAR,CAAD,CAAZ;EACD;;EAED,WAASH,KAAT,CAAgBpE,IAAhB,EAAsB;EACpB,UAAMwE,KAAK,GAAGP,WAAW,CAACjE,IAAD,CAAzB;EACA,UAAM+D,MAAM,GAAGS,KAAK,CAACC,KAAN,EAAf;EACA,UAAMT,KAAK,GAAGQ,KAAK,CAACE,GAAN,EAAd;EACA,WAAO,CAACX,MAAD,EAASC,KAAT,CAAP;EACD;;EAED,WAASC,WAAT,CAAsBjE,IAAtB,EAA4B;EAC1B,UAAMwB,CAAC,GAAGT,SAAS,CAACf,IAAD,CAAnB;;EACA,UAAMyB,OAAO,GAAGxB,CAAC,CAACuB,CAAD,CAAjB;EACA,UAAMuC,MAAM,GAAG9D,CAAC,CAACsE,KAAF,CAAQ,CAAR,EAAW/C,CAAX,CAAf;EACA,UAAMwC,KAAK,GAAG/D,CAAC,CAACsE,KAAF,CAAQ/C,CAAC,GAAG,CAAZ,CAAd;EACA,WAAO,CACLX,KAAK,CAACkD,MAAD,CADA,EAELtC,OAFK,EAGLZ,KAAK,CAACmD,KAAD,CAHA,CAAP;EAKD;;EAED,WAASW,SAAT,CAAoB3E,IAApB,EAA0B;EACxB,UAAM,CAAC+D,MAAD,EAAStC,OAAT,EAAkBuC,KAAlB,IAA2BC,WAAW,CAACjE,IAAD,CAA5C;EACA+D,IAAAA,MAAM,CAACa,IAAP,CAAYnD,OAAZ;EACA,WAAO,CAACsC,MAAD,EAASC,KAAT,CAAP;EACD;;EAED,WAASa,UAAT,CAAqB7E,IAArB,EAA2B;EACzB,UAAM,CAAC+D,MAAD,EAAStC,OAAT,EAAkBuC,KAAlB,IAA2BC,WAAW,CAACjE,IAAD,CAA5C;EACAgE,IAAAA,KAAK,CAACc,OAAN,CAAcrD,OAAd;EACA,WAAO,CAACsC,MAAD,EAASC,KAAT,CAAP;EACD;;EAED,WAASe,MAAT,CAAiBtD,OAAjB,EAA0B;EACxB,WAAOc,QAAQ,CAACd,OAAD,CAAR,GAAoBa,MAAM,CAAC;EAACb,MAAAA;EAAD,KAAD,CAA1B,GAAwCW,GAAG,CAACX,OAAD,CAAlD;EACD;;EAED,WAASrB,MAAT,GAAmB;EACjB,WAAO,CAAC,GAAGH,CAAJ,CAAP;EACD;;EAED,MAAI,CAACA,CAAC,CAACG,MAAP,EAAe;EACbiB,IAAAA,MAAM,CAAC2D,gBAAP,CAAwB/E,CAAxB,EAA2B;EACzBmC,MAAAA,GAAG,EAAE;EACHjC,QAAAA,KAAK,EAAEiC;EADJ,OADoB;EAIzBG,MAAAA,QAAQ,EAAE;EACRpC,QAAAA,KAAK,EAAEoC;EADC,OAJe;EAOzBC,MAAAA,QAAQ,EAAE;EACRrC,QAAAA,KAAK,EAAEqC;EADC,OAPe;EAUzBC,MAAAA,MAAM,EAAE;EACNtC,QAAAA,KAAK,EAAEsC;EADD,OAViB;EAazBC,MAAAA,KAAK,EAAE;EACLuC,QAAAA,GAAG,EAAEvC;EADA,OAbkB;EAgBzBC,MAAAA,MAAM,EAAE;EACNxC,QAAAA,KAAK,EAAEwC;EADD,OAhBiB;EAmBzBK,MAAAA,OAAO,EAAE;EACP7C,QAAAA,KAAK,EAAE6C;EADA,OAnBgB;EAsBzBI,MAAAA,KAAK,EAAE;EACL6B,QAAAA,GAAG,EAAE7B;EADA,OAtBkB;EAyBzB7B,MAAAA,KAAK,EAAE;EACLpB,QAAAA,KAAK,EAAEoB;EADF,OAzBkB;EA4BzBgC,MAAAA,MAAM,EAAE;EACNpD,QAAAA,KAAK,EAAEoD;EADD,OA5BiB;EA+BzBY,MAAAA,IAAI,EAAE;EACJc,QAAAA,GAAG,EAAEd;EADD,OA/BmB;EAkCzB7B,MAAAA,MAAM,EAAE;EACNnC,QAAAA,KAAK,EAAEmC;EADD,OAlCiB;EAqCzBuB,MAAAA,OAAO,EAAE;EACP1D,QAAAA,KAAK,EAAE0D;EADA,OArCgB;EAwCzBS,MAAAA,IAAI,EAAE;EACJW,QAAAA,GAAG,EAAEX;EADD,OAxCmB;EA2CzBF,MAAAA,KAAK,EAAE;EACLjE,QAAAA,KAAK,EAAEiE;EADF,OA3CkB;EA8CzBH,MAAAA,WAAW,EAAE;EACX9D,QAAAA,KAAK,EAAE8D;EADI,OA9CY;EAiDzBU,MAAAA,SAAS,EAAE;EACTxE,QAAAA,KAAK,EAAEwE;EADE,OAjDc;EAoDzBE,MAAAA,UAAU,EAAE;EACV1E,QAAAA,KAAK,EAAE0E;EADG,OApDa;EAuDzBE,MAAAA,MAAM,EAAE;EACN5E,QAAAA,KAAK,EAAE4E;EADD,OAvDiB;EA0DzB3E,MAAAA,MAAM,EAAE;EACND,QAAAA,KAAK,EAAEC;EADD;EA1DiB,KAA3B;EA8DD;;EAED,SAAOH,CAAP;EACD;;EC1Qc,SAASiF,OAAT,CAAkBC,GAAlB,EAAuB;EACpC,SAAQ,OAAOA,GAAP,KAAe,WAAvB;EACD;;ECAD,MAAMC,cAAc,4BAAG,mYAAH;EAAA;EAAA;EAAA;EAAA;EAAA,EAApB;;AAEA,EAAe,SAASC,QAAT,CAAmBC,GAAnB,EAAwB;EACrC,MAAIA,GAAG,CAACC,WAAJ,KAAoBC,MAAxB,EAAgC;EAC9B,UAAMC,KAAK,GAAGH,GAAG,CAACG,KAAJ,CAAUL,cAAV,CAAd;;EACA,QAAI,CAACK,KAAL,EAAY;EACV,YAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;EACD;;EAED,UAAM;EAAC/B,MAAAA,IAAD;EAAOgC,MAAAA,QAAP;EAAiBC,MAAAA,SAAjB;EAA4BhC,MAAAA;EAA5B,QAAqC6B,KAAK,CAACI,MAAjD;EACA,UAAMC,GAAG,GAAG;EACV,WAAK,KADK;EAEV,WAAK,IAFK;EAGV,WAAK,IAHK;EAIV,WAAK;EAJK,KAAZ;EAOA,UAAMC,MAAM,GAAG,CAACJ,QAAD,EAAWC,SAAX,EAAsBE,GAAtB,CAA2BE,GAAD,IAAQ;EAC/C,UAAIA,GAAG,KAAK,IAAZ,EAAkB;EAChB,eAAO,CAACC,QAAR;EACD,OAFD,MAEO,IAAID,GAAG,KAAK,GAAZ,EAAiB;EACtB,eAAOC,QAAP;EACD,OAFM,MAEA;EACL,eAAOC,UAAU,CAACF,GAAD,CAAjB;EACD;EACF,KARc,CAAf;EAUAV,IAAAA,GAAG,GAAG;EACJ,OAACQ,GAAG,CAACnC,IAAD,CAAJ,GAAaoC,MAAM,CAAC,CAAD,CADf;EAEJ,OAACD,GAAG,CAAClC,KAAD,CAAJ,GAAcmC,MAAM,CAAC,CAAD;EAFhB,KAAN;EAID;;EAED,MAAI1F,KAAK,CAACC,OAAN,CAAcgF,GAAd,CAAJ,EAAwB;EACtB,UAAM,CAACa,GAAD,EAAMC,GAAN,IAAad,GAAnB;EACAA,IAAAA,GAAG,GAAG;EACJe,MAAAA,GAAG,EAAEF,GADD;EAEJG,MAAAA,GAAG,EAAEF;EAFD,KAAN;EAID;;EAED,QAAMG,MAAM,GAAGrB,OAAO,CAACI,GAAG,CAACkB,EAAL,CAAtB;EACA,QAAMC,OAAO,GAAGvB,OAAO,CAACI,GAAG,CAACe,GAAL,CAAvB;EACA,QAAMK,MAAM,GAAGxB,OAAO,CAACI,GAAG,CAACqB,EAAL,CAAtB;EACA,QAAMC,OAAO,GAAG1B,OAAO,CAACI,GAAG,CAACgB,GAAL,CAAvB;EAEA,QAAMO,UAAU,GAAIN,MAAM,IAAIE,OAA9B;EACA,QAAMK,UAAU,GAAIJ,MAAM,IAAIE,OAA9B;EACA,QAAMG,OAAO,GAAIR,MAAM,IAAIE,OAAV,IAAqBC,MAArB,IAA+BE,OAAhD;;EAEA,MAAIC,UAAU,IAAIC,UAAd,IAA4B,CAACC,OAAjC,EAA0C;EACxC,UAAM,IAAIrB,KAAJ,CAAU,kBAAV,CAAN;EACD;;EAED,SAAOJ,GAAP;EACD;;ECtDc,SAAS0B,SAAT,CAAoB1B,GAApB,EAAyB;EACtC,QAAM;EAACqB,IAAAA,EAAD;EAAKL,IAAAA,GAAL;EAAUE,IAAAA,EAAV;EAAcH,IAAAA;EAAd,MAAqBhB,QAAQ,CAACC,GAAD,CAAnC;EAEA,SAAO,SAAS2B,OAAT,CAAkB9G,KAAlB,EAAyB;EAC9B,QAAI+E,OAAO,CAACsB,EAAD,CAAP,IAAgBrG,KAAK,IAAIqG,EAA7B,EAAkC;EAChC,aAAO,KAAP;EACD;;EACD,QAAItB,OAAO,CAACmB,GAAD,CAAP,IAAiBlG,KAAK,GAAGkG,GAA7B,EAAmC;EACjC,aAAO,KAAP;EACD;;EACD,QAAInB,OAAO,CAACyB,EAAD,CAAP,IAAgBxG,KAAK,IAAIwG,EAA7B,EAAkC;EAChC,aAAO,KAAP;EACD;;EACD,QAAIzB,OAAO,CAACoB,GAAD,CAAP,IAAiBnG,KAAK,GAAGmG,GAA7B,EAAmC;EACjC,aAAO,KAAP;EACD;;EACD,WAAO,IAAP;EACD,GAdD;EAeD;;ECrBc,SAASY,GAAT,CAAc/G,KAAd,EAAqB;EAClC,SAAOA,KAAK,GAAG,CAAH,GAAO,CAAnB;EACD;;ECFc,SAASgH,SAAT,CAAoBC,KAApB,EAA2B;EACxC,SAAOA,KAAK,CAACC,MAAN,CAAa,CAACC,KAAD,EAAQC,IAAR,KAAgB;EAClCD,IAAAA,KAAK,CAACC,IAAD,CAAL,GAAcA,IAAd;EACA,WAAOD,KAAP;EACD,GAHM,EAGJ,EAHI,CAAP;EAID;;ECLc,SAASE,UAAT,CAAqBC,MAArB,EAA6B;EAC1C,QAAMrE,KAAK,GAAGqE,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,EAAd;EACA,QAAMrD,IAAI,GAAGmD,MAAM,CAAClD,KAAP,CAAa,CAAb,CAAb;EACA,SAAQ,GAAEnB,KAAM,GAAEkB,IAAK,EAAvB;EACD;;ECJc,SAASsD,IAAT,CAAe;EAC5BC,EAAAA,GAAG,EAAEC,MADuB;EAE5B3H,EAAAA,KAAK,EAAE4H;EAFqB,CAAf,EAGZ;EACD,SAAO,SAASjC,GAAT,CAAckC,GAAd,EAAmB;EACxB,UAAMC,OAAO,GAAG5G,MAAM,CAAC4G,OAAP,CAAeD,GAAf,CAAhB;EACA,UAAME,MAAM,GAAGD,OAAO,CAACnC,GAAR,CAAY,CAAC,CAAC+B,GAAD,EAAM1H,KAAN,CAAD,KAAiB;EAC1C,UAAI2H,MAAJ,EAAY;EACVD,QAAAA,GAAG,GAAGC,MAAM,CAAC;EAACD,UAAAA,GAAD;EAAM1H,UAAAA;EAAN,SAAD,CAAZ;EACD;;EACD,UAAI4H,MAAJ,EAAY;EACV5H,QAAAA,KAAK,GAAG4H,MAAM,CAAC;EAACF,UAAAA,GAAD;EAAM1H,UAAAA;EAAN,SAAD,CAAd;EACD;;EACD,aAAO,CAAC0H,GAAD,EAAM1H,KAAN,CAAP;EACD,KARc,CAAf;EASA,WAAOkB,MAAM,CAAC8G,WAAP,CAAmBD,MAAnB,CAAP;EACD,GAZD;EAaD;;ECfD,MAAME,QAAQ,GAAGR,IAAI,CAAC;EACpBC,EAAAA,GAAG,EAAE,CAAC;EAACA,IAAAA;EAAD,GAAD,KAAUA,GAAG,CAAC,CAAD;EADE,CAAD,CAArB;;ECCA,MAAM;EAACQ,EAAAA;EAAD,IAAcrH,MAApB;AAEA,EAAe,SAASsH,OAAT,CAAkBhD,GAAlB,EAAuB;EACpC,QAAM;EAACqB,IAAAA,EAAD;EAAKL,IAAAA,GAAL;EAAUE,IAAAA,EAAV;EAAcH,IAAAA;EAAd,MAAqBhB,QAAQ,CAACC,GAAD,CAAnC;EAEA,SAAO,SAASiD,SAAT,CAAoBpI,KAApB,EAA2B;EAChC,QAAI+E,OAAO,CAACsB,EAAD,CAAP,IAAgBrG,KAAK,IAAIqG,EAA7B,EAAkC;EAChC,aAAOA,EAAE,GAAG6B,SAAZ;EACD;;EACD,QAAInD,OAAO,CAACmB,GAAD,CAAP,IAAiBlG,KAAK,GAAGkG,GAA7B,EAAmC;EACjC,aAAOA,GAAP;EACD;;EACD,QAAInB,OAAO,CAACyB,EAAD,CAAP,IAAgBxG,KAAK,IAAIwG,EAA7B,EAAkC;EAChC,aAAOA,EAAE,GAAG0B,SAAZ;EACD;;EACD,QAAInD,OAAO,CAACoB,GAAD,CAAP,IAAiBnG,KAAK,GAAGmG,GAA7B,EAAmC;EACjC,aAAOA,GAAP;EACD;;EACD,WAAOnG,KAAP;EACD,GAdD;EAeD;;ECvBc,SAASqI,SAAT,CAAoB;EAACC,EAAAA,IAAI,GAAG,GAAR;EAAaC,EAAAA,IAAI,EAAEC;EAAnB,IAAgC,EAApD,EAAwD;EACrE,SAAO,SAASC,OAAT,CAAkBZ,GAAlB,EAAuBH,GAAG,GAAG,IAA7B,EAAmCa,IAAI,GAAGC,SAAS,IAAI,EAAvD,EAA2D;EAChE,QAAIX,GAAG,IAAKA,GAAG,CAACzC,WAAJ,KAAoBlE,MAAhC,EAAyC;EACvC,YAAM4G,OAAO,GAAG5G,MAAM,CAAC4G,OAAP,CAAeD,GAAf,CAAhB;;EACA,UAAIC,OAAO,CAAC/H,MAAZ,EAAoB;EAClB,aAAK,MAAM,CAAC2I,CAAD,EAAIC,CAAJ,CAAX,IAAqBb,OAArB,EAA8B;EAC5B,gBAAMzD,KAAK,GAAGqD,GAAG,GAAG,CAACA,GAAD,EAAMgB,CAAN,CAAH,GAAc,CAACA,CAAD,CAA/B;EACA,gBAAME,OAAO,GAAGvE,KAAK,CAACiE,IAAN,CAAWA,IAAX,CAAhB;EACAG,UAAAA,OAAO,CAACE,CAAD,EAAIC,OAAJ,EAAaL,IAAb,CAAP;EACD;EACF,OAND,MAMO;EACLA,QAAAA,IAAI,CAACb,GAAD,CAAJ,GAAY,EAAZ;EACD;EACF,KAXD,MAWO;EACLa,MAAAA,IAAI,CAACb,GAAD,CAAJ,GAAYG,GAAZ;EACD;;EACD,WAAOU,IAAP;EACD,GAhBD;EAiBD;;EClBc,SAASM,UAAT,CAAqB1H,IAArB,EAA2B;EACxC,SAAO,SAAS2B,MAAT,CAAiB+E,GAAjB,EAAsB;EAC3B,WAAO1G,IAAI,CAACuB,KAAL,CAAYgF,GAAD,IAAQ;EACxB,aAAOxG,MAAM,CAAC4H,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCnB,GAArC,EAA0CH,GAA1C,CAAP;EACD,KAFM,CAAP;EAGD,GAJD;EAKD;;ECHc,SAASuB,cAAT,CAAyB9H,IAAzB,EAA+B;EAC5C,SAAO,SAAS+H,GAAT,CAAcrB,GAAd,EAAmB;EACxBA,IAAAA,GAAG,GAAGI,QAAQ,CAACJ,GAAD,CAAd;EACA,WAAOgB,UAAU,CAAC1H,IAAD,CAAV,CAAiB0G,GAAjB,CAAP;EACD,GAHD;EAID;;ECNc,SAASsB,YAAT,CAAuBhI,IAAvB,EAA6B;EAC1C,QAAM2B,MAAM,GAAG+F,UAAU,CAAC1H,IAAD,CAAzB;EACA,SAAO,SAASiI,QAAT,CAAmBvB,GAAnB,EAAwB;EAC7B,UAAMwB,QAAQ,GAAGnI,MAAM,CAACC,IAAP,CAAY0G,GAAZ,EAAiB9H,MAAlC;EACA,WAAQsJ,QAAQ,KAAKlI,IAAI,CAACpB,MAAnB,IAA8B+C,MAAM,CAAC+E,GAAD,CAA3C;EACD,GAHD;EAID;;ECND,MAAMZ,KAAK,GAAGD,SAAS,CAAC,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,CAAD,CAAvB;AAEA,EAAe,SAASsC,OAAT,CAAkBnE,GAAlB,EAAuB;EACpC,MAAI,CAACA,GAAL,EAAU;EACRA,IAAAA,GAAG,GAAG;EACJoE,MAAAA,IAAI,EAAE,IADF;EAEJnC,MAAAA,IAAI,EAAEH,KAAK,CAAChE;EAFR,KAAN;EAID;;EAED,MAAIkC,GAAG,CAACC,WAAJ,KAAoBC,MAAxB,EAAgC;EAC9BF,IAAAA,GAAG,GAAG;EACJoE,MAAAA,IAAI,EAAEpE;EADF,KAAN;EAGD;;EAED,QAAM;EACJoE,IAAAA,IADI;EAEJnC,IAAAA,IAAI,GAAGH,KAAK,CAACvG;EAFT,MAGFyE,GAHJ;;EAKA,MAAI,EAAEiC,IAAI,IAAIH,KAAV,CAAJ,EAAsB;EACpB,UAAM,IAAI1B,KAAJ,CAAU,oBAAV,CAAN;EACD;;EAED,SAAO,SAASnE,KAAT,CAAgBoI,KAAhB,EAAuB;EAC5B,UAAMpI,KAAK,GAAG,EAAd;;EACA,SAAK,MAAMqI,IAAX,IAAmBD,KAAnB,EAA0B;EACxB,YAAMxJ,KAAK,GAAGyJ,IAAI,CAACF,IAAD,CAAlB;EACA,YAAMG,SAAS,IAAI1J,KAAK,IAAIoB,KAAb,CAAf;;EACA,UAAIgG,IAAI,KAAKH,KAAK,CAACvG,KAAnB,EAA0B;EACxB,YAAI,CAACgJ,SAAL,EAAgB;EACdtI,UAAAA,KAAK,CAACpB,KAAD,CAAL,GAAe,EAAf;EACD;;EACDoB,QAAAA,KAAK,CAACpB,KAAD,CAAL,CAAayE,IAAb,CAAkBgF,IAAlB;EACD,OALD,MAKO,IAAIrC,IAAI,KAAKH,KAAK,CAAChE,KAAnB,EAA0B;EAC/B,YAAI,CAACyG,SAAL,EAAgB;EACdtI,UAAAA,KAAK,CAACpB,KAAD,CAAL,GAAeyJ,IAAf;EACD;EACF,OAJM,MAIA;EACLrI,QAAAA,KAAK,CAACpB,KAAD,CAAL,GAAeyJ,IAAf;EACD;EACF;;EACD,WAAOrI,KAAP;EACD,GAnBD;EAoBD;;EAED,KAAK,MAAM,CAACsH,CAAD,EAAIC,CAAJ,CAAX,IAAqBzH,MAAM,CAAC4G,OAAP,CAAeb,KAAf,CAArB,EAA4C;EAC1CqC,EAAAA,OAAO,CAACZ,CAAD,CAAP,GAAaC,CAAb;EACD;;ECjDD,MAAMgB,SAAS,GAAGL,OAAO,EAAzB;;ECFe,SAASM,UAAT,CAAqBC,EAArB,EAAyB;EACtC,MAAI,CAACA,EAAL,EAAS;EACP,WAAO,KAAP;EACD;;EACD,SAAO,CAAC,UAAD,EAAa,eAAb,EAA8BxJ,QAA9B,CAAuCwJ,EAAE,CAACzE,WAAH,CAAe0E,IAAtD,CAAP,CAJsC;EAMtC;EACA;EACD;;ECRc,eAAeC,IAAf,CAAqBC,QAArB,EAA+BrE,GAA/B,EAAoCsE,OAAO,GAAG,EAA9C,EAAkD;EAC/D,MAAIC,WAAW,GAAGD,OAAO,CAACC,WAAR,IAAuBpE,QAAzC;EACA,MAAI1E,KAAK,GAAG,CAAZ;EACA,QAAM+I,OAAO,GAAG,EAAhB;EACA,QAAMC,IAAI,GAAG,EAAb;EACA,QAAMC,QAAQ,GAAGL,QAAQ,CAACM,MAAM,CAACD,QAAR,CAAR,EAAjB;EACA,QAAME,QAAQ,GAAGD,MAAM,CAAC,UAAD,CAAvB;;EAEA,SAAOJ,WAAW,KAAK,CAAvB,EAA0B;EACxB,UAAMM,CAAC,GAAGC,GAAG,EAAb;;EACA,QAAID,CAAC,KAAKD,QAAV,EAAoB;EAClB;EACD,KAFD,MAEO;EACLH,MAAAA,IAAI,CAAC3F,IAAL,CAAU+F,CAAV;EACD;EACF;;EAED,WAASC,GAAT,GAAgB;EACd,UAAM;EAACC,MAAAA,IAAD;EAAO1K,MAAAA;EAAP,QAAgBqK,QAAQ,CAACM,IAAT,EAAtB;;EACA,QAAID,IAAJ,EAAU;EACR,aAAOH,QAAP;EACD,KAFD,MAEO;EACL,YAAMlJ,CAAC,GAAGD,KAAK,EAAf;EACA,YAAMwJ,CAAC,GAAGjF,GAAG,CAAC3F,KAAD,EAAQqB,CAAR,CAAb;EACA,aAAOwJ,OAAO,CAACC,OAAR,CAAgBF,CAAhB,EACJG,IADI,CACEpK,MAAD,IAAW;EACfwJ,QAAAA,OAAO,CAAC9I,CAAD,CAAP,GAAaV,MAAb;EACA,eAAO8J,GAAG,EAAV;EACD,OAJI,CAAP;EAKD;EACF;;EAED,SAAOI,OAAO,CAACG,GAAR,CAAYZ,IAAZ,EAAkBW,IAAlB,CAAuB,MAAKZ,OAA5B,CAAP;EACD;;ECjCc,SAASc,QAAT,CAAmBjL,KAAnB,EAA0B;EACvC,MAAKA,KAAK,KAAK,IAAX,IAAqBA,KAAK,KAAKI,SAAnC,EAA+C;EAC7C,WAAO,KAAP;EACD;;EACD,MAAIJ,KAAK,CAACD,MAAN,KAAiBK,SAArB,EAAgC;EAC9B,WAAQJ,KAAK,CAACD,MAAN,GAAe,CAAvB;EACD;;EACD,MAAIC,KAAK,CAACoF,WAAN,KAAsBlE,MAA1B,EAAkC;EAChC,UAAMC,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYnB,KAAZ,CAAb;EACA,WAAQmB,IAAI,CAACpB,MAAL,GAAc,CAAtB;EACD;;EACD,SAAO,IAAP;EACD;;ECZc,SAASmL,GAAT,GAAgB;EAC7B,SAAO,IAAIC,IAAJ,EAAP;EACD;;ECFc,SAASC,OAAT,CAAkBjK,IAAlB,EAAwB;EACrC,MAAIkK,IAAJ;;EACA,MAAInL,KAAK,CAACC,OAAN,CAAcgB,IAAd,CAAJ,EAAyB;EACvBkK,IAAAA,IAAI,GAAI3D,GAAD,IAAQvG,IAAI,CAACd,QAAL,CAAcqH,GAAd,CAAf;EACD,GAFD,MAEO;EACL2D,IAAAA,IAAI,GAAGlK,IAAP;EACD;;EACD,SAAO,SAASmK,IAAT,CAAezD,GAAf,EAAoB;EACzB,WAAO3G,MAAM,CAAC4G,OAAP,CAAeD,GAAf,EAAoBX,MAApB,CAA2B,CAACvG,MAAD,EAAS,CAAC+G,GAAD,EAAM1H,KAAN,CAAT,KAAyB;EACzD,UAAI,CAACqL,IAAI,CAAC3D,GAAD,EAAM1H,KAAN,CAAT,EAAuB;EACrBW,QAAAA,MAAM,CAAC+G,GAAD,CAAN,GAAcG,GAAG,CAACH,GAAD,CAAjB;EACD;;EACD,aAAO/G,MAAP;EACD,KALM,EAKJ,EALI,CAAP;EAMD,GAPD;EAQD;;ECfD,MAAM;EAACG,EAAAA;EAAD,IAAcD,MAApB;AAEA,EAAe,SAAS0K,SAAT,CAAoBpG,GAAG,GAAG,EAA1B,EAA8B;EAC3C,MAAIjF,KAAK,CAACC,OAAN,CAAcgF,GAAd,CAAJ,EAAwB;EACtB,UAAM,CAACa,GAAD,EAAMC,GAAN,IAAad,GAAnB;EACAA,IAAAA,GAAG,GAAG;EAACa,MAAAA,GAAD;EAAMC,MAAAA;EAAN,KAAN;EACD,GAHD,MAGO,IAAInF,SAAS,CAACqE,GAAD,CAAb,EAAoB;EACzBA,IAAAA,GAAG,GAAG;EACJc,MAAAA,GAAG,EAAEd;EADD,KAAN;EAGD;;EACD,QAAM;EAACa,IAAAA,GAAG,GAAG,CAAP;EAAUC,IAAAA,GAAG,GAAG;EAAhB,MAAqBd,GAA3B;;EAEA,MAAI,CAACrE,SAAS,CAACkF,GAAD,CAAV,IAAmB,CAAClF,SAAS,CAACmF,GAAD,CAAjC,EAAwC;EACtC,UAAM,IAAIV,KAAJ,CAAU,8BAAV,CAAN;EACD;;EACD,MAAIU,GAAG,GAAGD,GAAV,EAAe;EACb,UAAM,IAAIT,KAAJ,CAAU,uCAAV,CAAN;EACD;;EAED,QAAMiG,KAAK,GAAGvF,GAAG,GAAGD,GAApB;EACA,QAAMyF,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBJ,KAAK,GAAG,CAAzB,CAAX,CAAf;EACA,SAAOxF,GAAG,GAAGyF,MAAb;EACD;;ECvBc,SAASI,OAAT,CAAkB;EAACC,EAAAA,QAAQ,GAAG,CAAZ;EAAeC,EAAAA,EAAE,GAAGL,IAAI,CAACM;EAAzB,IAAkC,EAApD,EAAwD;EACrE,MAAI,EAAEnL,MAAM,CAACC,SAAP,CAAiBgL,QAAjB,KAA+BA,QAAQ,IAAI,CAA7C,CAAJ,EAAsD;EACpD,UAAM,IAAIvG,KAAJ,CAAU,gDAAV,CAAN;EACD;;EAED,MAAI,EAAEwG,EAAE,IAAKA,EAAE,CAAC3G,WAAH,KAAmB6G,QAA5B,CAAJ,EAA4C;EAC1C,UAAM,IAAI1G,KAAJ,CAAU,gCAAV,CAAN;EACD;;EAED,QAAM2G,UAAU,GAAG,MAAMJ,QAAzB;EACA,SAAO,SAASE,KAAT,CAAgBnG,GAAhB,EAAqB;EAC1B,WAAOkG,EAAE,CAAClG,GAAG,GAAGqG,UAAP,CAAF,GAAuBA,UAA9B;EACD,GAFD;EAGD;;ECbc,SAASC,SAAT,CAAoBtM,IAApB,EAA0B;EACvC,MAAIA,IAAI,IAAKA,IAAI,CAACuF,WAAL,KAAqB6G,QAAlC,EAA6C;EAC3CpM,IAAAA,IAAI,GAAG;EACLuM,MAAAA,KAAK,EAAEvM;EADF,KAAP;EAGD;;EAED,MAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACuM,KAAnB,EAA0B;EACxB,UAAM,IAAI7G,KAAJ,CAAU,mDAAV,CAAN;EACD;;EAED,QAAM;EACJ6G,IAAAA,KADI;EAEJC,IAAAA,QAAQ,GAAG,UAFP;EAGJ3E,IAAAA,GAAG,GAAG;EAHF,MAIF7H,IAJJ;;EAMAuM,EAAAA,KAAK,CAACC,QAAD,CAAL,GAAkB,SAASA,QAAT,CAAmB,GAAGxM,IAAtB,EAA4B;EAC5C,QAAI,CAAC,KAAK6H,GAAL,CAAL,EAAgB;EACd,WAAKA,GAAL,IAAY,IAAI,IAAJ,CAAS,GAAG7H,IAAZ,CAAZ;EACD;;EACD,WAAO,KAAK6H,GAAL,CAAP;EACD,GALD;EAMD;;ECvBc,SAAS4E,KAAT,CAAgBC,OAAhB,EAAyB;EACtC,SAAO,IAAI1B,OAAJ,CAAaC,OAAD,IAAY;EAC7B0B,IAAAA,UAAU,CAAC1B,OAAD,EAAUyB,OAAV,CAAV;EACD,GAFM,CAAP;EAGD;;ECJD;AAEA,EAAe,SAASE,IAAT,CAAeC,CAAf,EAAkB;EAC/B,MAAIrL,CAAC,GAAG,CAAR;EACA,QAAM8I,OAAO,GAAG,EAAhB;EACA,SAAO,SAASwC,CAAT,CAAY9C,EAAZ,EAAgB;EACrB,WAAOxI,CAAC,IAAIqL,CAAZ,EAAe;EACbvC,MAAAA,OAAO,CAAC1F,IAAR,CAAaoF,EAAE,CAACxI,CAAD,CAAf;EACAA,MAAAA,CAAC;EACF;;EACD,WAAO8I,OAAP;EACD,GAND;EAOD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}