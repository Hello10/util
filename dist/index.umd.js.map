{"version":3,"file":"index.umd.js","sources":["../src/betweener.js","../src/charkeys.js","../src/defined.js","../src/clipper.js","../src/hasAllKeys.js","../src/randomInt.js","../src/rounder.js","../src/upto.js"],"sourcesContent":["const interval_regex = /(?<left>[[(])\\s*(?<left_num>[+-]?([0-9]+([.][0-9]*)?|([.][0-9]+)|∞))\\s*,\\s*(?<right_num>[+-]?([0-9]+([.][0-9]*)?|([.][0-9]+)|∞))\\s*(?<right>[)\\]])/;\n\nexport default function betweener (arg) {\n  if (arg.constructor === String) {\n    const match = arg.match(interval_regex);\n    if (!match) {\n      throw new Error('Invalid interval string');\n    }\n\n    const {left, left_num, right_num, right} = match.groups;\n    const map = {\n      '[': 'gte',\n      '(': 'gt',\n      ')': 'lt',\n      ']': 'lte'\n    };\n\n    const bounds = [left_num, right_num].map((num)=> {\n      if (num === '-∞') {\n        return -Infinity;\n      } else if (num === '∞') {\n        return Infinity;\n      } else {\n        return parseFloat(num);\n      }\n    });\n\n    arg = {\n      [map[left]]: bounds[0],\n      [map[right]]: bounds[1]\n    };\n  }\n\n  const {lt, lte, gt, gte} = arg;\n\n  return function between (value) {\n    // left side\n    if (gt && (value <= gt)) {\n      return false;\n    }\n    if (gte && (value < gte)) {\n      return false;\n    }\n\n    // right side\n    if (lt && (value >= lt)) {\n      return false;\n    }\n    if (lte && (value > lte)) {\n      return false;\n    }\n\n    return true;\n  };\n}\n","export default function charkeys (obj) {\n  return Object.entries(obj).reduce((singled, [key, val])=> {\n    const k = key[0];\n    if (k in singled) {\n      if (!Array.isArray(singled[k])) {\n        singled[k] = [singled[k]];\n      }\n      singled[k].push(val);\n    } else {\n      singled[k] = val;\n    }\n    return singled;\n  }, {});\n}\n","export default function defined (val) {\n  return (typeof val !== 'undefined');\n}\n","import defined from './defined';\n\nexport default function clipper ({min, max}) {\n  return function clip (value) {\n    if (defined(min) && (value < min)) {\n      value = min;\n    }\n    if (defined(max) && (value > max)) {\n      value = max;\n    }\n    return value;\n  };\n}\n","export default function hasAllKeys (keys) {\n  return function hasAll (obj) {\n    return keys.every((key)=> {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    });\n  };\n}\n","export default function randomInt ({min = 0, max = 1} = {}) {\n  const {isInteger} = Number;\n  if (!isInteger(min) || !isInteger(max)) {\n    throw new Error('min and max must be integers');\n  }\n  if (max < min) {\n    throw new Error('min must be less than or equal to max');\n  }\n  const delta = max - min;\n  const offset = Math.floor(Math.random() * (delta + 1));\n  return min + offset;\n}\n","export default function rounder ({decimals = 0, op = Math.round} = {}) {\n  if (!(Number.isInteger(decimals) && (decimals >= 0))) {\n    throw new Error('Argument decimals must be non-negative integer');\n  }\n\n  if (!(op && (op.constructor === Function))) {\n    throw new Error('Argument op must be a function');\n  }\n\n  const multiplier = 10 ** decimals;\n  return function round (num) {\n    return op(num * multiplier) / multiplier;\n  };\n}\n","/// iterable that returns array or function\n\nexport default function upto (n) {\n  let i = 0;\n  const results = [];\n  return function f (fn) {\n    while (i <= n) {\n      results.push(fn(i));\n      i++;\n    }\n    return results;\n  };\n}\n"],"names":["interval_regex","betweener","arg","constructor","String","match","Error","left","left_num","right_num","right","groups","map","bounds","num","Infinity","parseFloat","lt","lte","gt","gte","between","value","charkeys","obj","Object","entries","reduce","singled","key","val","k","Array","isArray","push","defined","clipper","min","max","clip","hasAllKeys","keys","hasAll","every","prototype","hasOwnProperty","call","randomInt","isInteger","Number","delta","offset","Math","floor","random","rounder","decimals","op","round","Function","multiplier","upto","n","i","results","f","fn"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA,MAAMA,cAAc,4BAAG,mYAAH;EAAA;EAAA;EAAA;EAAA;EAAA,EAApB;;EAEe,SAASC,SAAT,CAAoBC,GAApB,EAAyB;EACtC,MAAIA,GAAG,CAACC,WAAJ,KAAoBC,MAAxB,EAAgC;EAC9B,UAAMC,KAAK,GAAGH,GAAG,CAACG,KAAJ,CAAUL,cAAV,CAAd;;EACA,QAAI,CAACK,KAAL,EAAY;EACV,YAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;EACD;;EAED,UAAM;EAACC,MAAAA,IAAD;EAAOC,MAAAA,QAAP;EAAiBC,MAAAA,SAAjB;EAA4BC,MAAAA;EAA5B,QAAqCL,KAAK,CAACM,MAAjD;EACA,UAAMC,GAAG,GAAG;EACV,WAAK,KADK;EAEV,WAAK,IAFK;EAGV,WAAK,IAHK;EAIV,WAAK;EAJK,KAAZ;EAOA,UAAMC,MAAM,GAAG,CAACL,QAAD,EAAWC,SAAX,EAAsBG,GAAtB,CAA2BE,GAAD,IAAQ;EAC/C,UAAIA,GAAG,KAAK,IAAZ,EAAkB;EAChB,eAAO,CAACC,QAAR;EACD,OAFD,MAEO,IAAID,GAAG,KAAK,GAAZ,EAAiB;EACtB,eAAOC,QAAP;EACD,OAFM,MAEA;EACL,eAAOC,UAAU,CAACF,GAAD,CAAjB;EACD;EACF,KARc,CAAf;EAUAZ,IAAAA,GAAG,GAAG;EACJ,OAACU,GAAG,CAACL,IAAD,CAAJ,GAAaM,MAAM,CAAC,CAAD,CADf;EAEJ,OAACD,GAAG,CAACF,KAAD,CAAJ,GAAcG,MAAM,CAAC,CAAD;EAFhB,KAAN;EAID;;EAED,QAAM;EAACI,IAAAA,EAAD;EAAKC,IAAAA,GAAL;EAAUC,IAAAA,EAAV;EAAcC,IAAAA;EAAd,MAAqBlB,GAA3B;EAEA,SAAO,SAASmB,OAAT,CAAkBC,KAAlB,EAAyB;EAE9B,QAAIH,EAAE,IAAKG,KAAK,IAAIH,EAApB,EAAyB;EACvB,aAAO,KAAP;EACD;;EACD,QAAIC,GAAG,IAAKE,KAAK,GAAGF,GAApB,EAA0B;EACxB,aAAO,KAAP;EACD;;EAGD,QAAIH,EAAE,IAAKK,KAAK,IAAIL,EAApB,EAAyB;EACvB,aAAO,KAAP;EACD;;EACD,QAAIC,GAAG,IAAKI,KAAK,GAAGJ,GAApB,EAA0B;EACxB,aAAO,KAAP;EACD;;EAED,WAAO,IAAP;EACD,GAlBD;EAmBD;;ECtDc,SAASK,QAAT,CAAmBC,GAAnB,EAAwB;EACrC,SAAOC,MAAM,CAACC,OAAP,CAAeF,GAAf,EAAoBG,MAApB,CAA2B,CAACC,OAAD,EAAU,CAACC,GAAD,EAAMC,GAAN,CAAV,KAAwB;EACxD,UAAMC,CAAC,GAAGF,GAAG,CAAC,CAAD,CAAb;;EACA,QAAIE,CAAC,IAAIH,OAAT,EAAkB;EAChB,UAAI,CAACI,KAAK,CAACC,OAAN,CAAcL,OAAO,CAACG,CAAD,CAArB,CAAL,EAAgC;EAC9BH,QAAAA,OAAO,CAACG,CAAD,CAAP,GAAa,CAACH,OAAO,CAACG,CAAD,CAAR,CAAb;EACD;;EACDH,MAAAA,OAAO,CAACG,CAAD,CAAP,CAAWG,IAAX,CAAgBJ,GAAhB;EACD,KALD,MAKO;EACLF,MAAAA,OAAO,CAACG,CAAD,CAAP,GAAaD,GAAb;EACD;;EACD,WAAOF,OAAP;EACD,GAXM,EAWJ,EAXI,CAAP;EAYD;;ECbc,SAASO,OAAT,CAAkBL,GAAlB,EAAuB;EACpC,SAAQ,OAAOA,GAAP,KAAe,WAAvB;EACD;;ECAc,SAASM,OAAT,CAAkB;EAACC,EAAAA,GAAD;EAAMC,EAAAA;EAAN,CAAlB,EAA8B;EAC3C,SAAO,SAASC,IAAT,CAAejB,KAAf,EAAsB;EAC3B,QAAIa,OAAO,CAACE,GAAD,CAAP,IAAiBf,KAAK,GAAGe,GAA7B,EAAmC;EACjCf,MAAAA,KAAK,GAAGe,GAAR;EACD;;EACD,QAAIF,OAAO,CAACG,GAAD,CAAP,IAAiBhB,KAAK,GAAGgB,GAA7B,EAAmC;EACjChB,MAAAA,KAAK,GAAGgB,GAAR;EACD;;EACD,WAAOhB,KAAP;EACD,GARD;EASD;;ECZc,SAASkB,UAAT,CAAqBC,IAArB,EAA2B;EACxC,SAAO,SAASC,MAAT,CAAiBlB,GAAjB,EAAsB;EAC3B,WAAOiB,IAAI,CAACE,KAAL,CAAYd,GAAD,IAAQ;EACxB,aAAOJ,MAAM,CAACmB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCtB,GAArC,EAA0CK,GAA1C,CAAP;EACD,KAFM,CAAP;EAGD,GAJD;EAKD;;ECNc,SAASkB,SAAT,CAAoB;EAACV,EAAAA,GAAG,GAAG,CAAP;EAAUC,EAAAA,GAAG,GAAG;EAAhB,IAAqB,EAAzC,EAA6C;EAC1D,QAAM;EAACU,IAAAA;EAAD,MAAcC,MAApB;;EACA,MAAI,CAACD,SAAS,CAACX,GAAD,CAAV,IAAmB,CAACW,SAAS,CAACV,GAAD,CAAjC,EAAwC;EACtC,UAAM,IAAIhC,KAAJ,CAAU,8BAAV,CAAN;EACD;;EACD,MAAIgC,GAAG,GAAGD,GAAV,EAAe;EACb,UAAM,IAAI/B,KAAJ,CAAU,uCAAV,CAAN;EACD;;EACD,QAAM4C,KAAK,GAAGZ,GAAG,GAAGD,GAApB;EACA,QAAMc,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBJ,KAAK,GAAG,CAAzB,CAAX,CAAf;EACA,SAAOb,GAAG,GAAGc,MAAb;EACD;;ECXc,SAASI,OAAT,CAAkB;EAACC,EAAAA,QAAQ,GAAG,CAAZ;EAAeC,EAAAA,EAAE,GAAGL,IAAI,CAACM;EAAzB,IAAkC,EAApD,EAAwD;EACrE,MAAI,EAAET,MAAM,CAACD,SAAP,CAAiBQ,QAAjB,KAA+BA,QAAQ,IAAI,CAA7C,CAAJ,EAAsD;EACpD,UAAM,IAAIlD,KAAJ,CAAU,gDAAV,CAAN;EACD;;EAED,MAAI,EAAEmD,EAAE,IAAKA,EAAE,CAACtD,WAAH,KAAmBwD,QAA5B,CAAJ,EAA4C;EAC1C,UAAM,IAAIrD,KAAJ,CAAU,gCAAV,CAAN;EACD;;EAED,QAAMsD,UAAU,GAAG,MAAMJ,QAAzB;EACA,SAAO,SAASE,KAAT,CAAgB5C,GAAhB,EAAqB;EAC1B,WAAO2C,EAAE,CAAC3C,GAAG,GAAG8C,UAAP,CAAF,GAAuBA,UAA9B;EACD,GAFD;EAGD;;ECXc,SAASC,IAAT,CAAeC,CAAf,EAAkB;EAC/B,MAAIC,CAAC,GAAG,CAAR;EACA,QAAMC,OAAO,GAAG,EAAhB;EACA,SAAO,SAASC,CAAT,CAAYC,EAAZ,EAAgB;EACrB,WAAOH,CAAC,IAAID,CAAZ,EAAe;EACbE,MAAAA,OAAO,CAAC9B,IAAR,CAAagC,EAAE,CAACH,CAAD,CAAf;EACAA,MAAAA,CAAC;EACF;;EACD,WAAOC,OAAP;EACD,GAND;EAOD;;;;;;;;;;;;;;;"}